[33mWARNING[0m:  [13-07-2024 08:23:20] chroma_server_nofile is set to 65535, but this is less than current soft limit of 1048575. chroma_server_nofile will not be set.
[32mINFO[0m:     [13-07-2024 08:23:20] Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.
[36mDEBUG[0m:    [13-07-2024 08:23:20] Starting component System
[36mDEBUG[0m:    [13-07-2024 08:23:20] Starting component OpenTelemetryClient
[36mDEBUG[0m:    [13-07-2024 08:23:20] Starting component SqliteDB
[36mDEBUG[0m:    [13-07-2024 08:23:20] Starting component QuotaEnforcer
[36mDEBUG[0m:    [13-07-2024 08:23:20] Starting component Posthog
[36mDEBUG[0m:    [13-07-2024 08:23:20] Starting component LocalSegmentManager
[36mDEBUG[0m:    [13-07-2024 08:23:20] Starting component SegmentAPI
[32mINFO[0m:     [13-07-2024 08:23:21] Started server process [[36m13980[0m]
[32mINFO[0m:     [13-07-2024 08:23:21] Waiting for application startup.
[32mINFO[0m:     [13-07-2024 08:23:21] Application startup complete.
[32mINFO[0m:     [13-07-2024 08:23:21] Uvicorn running on [1mhttp://localhost:8000[0m (Press CTRL+C to quit)
[32mINFO[0m:     [13-07-2024 08:24:16] ::1:65447 - "GET / HTTP/1.1" 404
[32mINFO[0m:     [13-07-2024 08:24:16] ::1:65447 - "GET /favicon.ico HTTP/1.1" 404
[32mINFO[0m:     [13-07-2024 08:24:35] Shutting down
[32mINFO[0m:     [13-07-2024 08:24:35] Waiting for application shutdown.
[36mDEBUG[0m:    [13-07-2024 08:24:35] Stopping component System
[36mDEBUG[0m:    [13-07-2024 08:24:35] Stopping component SegmentAPI
[36mDEBUG[0m:    [13-07-2024 08:24:35] Stopping component LocalSegmentManager
[36mDEBUG[0m:    [13-07-2024 08:24:35] Stopping component Posthog
[36mDEBUG[0m:    [13-07-2024 08:24:35] Stopping component QuotaEnforcer
[36mDEBUG[0m:    [13-07-2024 08:24:35] Stopping component SqliteDB
[36mDEBUG[0m:    [13-07-2024 08:24:35] Stopping component OpenTelemetryClient
[32mINFO[0m:     [13-07-2024 08:24:35] Application shutdown complete.
[32mINFO[0m:     [13-07-2024 08:24:35] Finished server process [[36m13980[0m]
[33mWARNING[0m:  [13-07-2024 08:26:21] chroma_server_nofile is set to 65535, but this is less than current soft limit of 1048575. chroma_server_nofile will not be set.
[32mINFO[0m:     [13-07-2024 08:26:21] Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.
[36mDEBUG[0m:    [13-07-2024 08:26:21] Starting component System
[36mDEBUG[0m:    [13-07-2024 08:26:21] Starting component OpenTelemetryClient
[36mDEBUG[0m:    [13-07-2024 08:26:21] Starting component SqliteDB
[36mDEBUG[0m:    [13-07-2024 08:26:21] Starting component QuotaEnforcer
[36mDEBUG[0m:    [13-07-2024 08:26:21] Starting component Posthog
[36mDEBUG[0m:    [13-07-2024 08:26:21] Starting component LocalSegmentManager
[36mDEBUG[0m:    [13-07-2024 08:26:21] Starting component SegmentAPI
[32mINFO[0m:     [13-07-2024 08:26:21] Started server process [[36m14278[0m]
[32mINFO[0m:     [13-07-2024 08:26:21] Waiting for application startup.
[32mINFO[0m:     [13-07-2024 08:26:21] Application startup complete.
[32mINFO[0m:     [13-07-2024 08:26:21] Uvicorn running on [1mhttp://localhost:8000[0m (Press CTRL+C to quit)
[32mINFO[0m:     [13-07-2024 08:26:50] ::1:51996 - "GET /api/v1/tenants/default_tenant HTTP/1.1" 200
[32mINFO[0m:     [13-07-2024 08:26:50] ::1:51996 - "GET /api/v1/databases/default_database?tenant=default_tenant HTTP/1.1" 200
[31mERROR[0m:    [13-07-2024 08:26:50] type object 'CreateCollection' has no attribute 'model_validate'
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/chromadb/server/fastapi/__init__.py", line 75, in catch_exceptions_middleware
    return await call_next(request)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/chromadb/server/fastapi/__init__.py", line 89, in check_http_version_middleware
    return await call_next(request)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/fastapi/routing.py", line 273, in app
    raw_response = await run_endpoint_function(
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/fastapi/routing.py", line 190, in run_endpoint_function
    return await dependant.call(**values)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/chromadb/telemetry/opentelemetry/__init__.py", line 133, in async_wrapper
    return await f(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/chromadb/server/fastapi/__init__.py", line 590, in create_collection
    await to_thread.run_sync(
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/chromadb/server/fastapi/__init__.py", line 563, in process_create_collection
    create = CreateCollection.model_validate(orjson.loads(raw_body))
AttributeError: type object 'CreateCollection' has no attribute 'model_validate'
[32mINFO[0m:     [13-07-2024 08:26:50] ::1:51997 - "POST /api/v1/collections?tenant=default_tenant&database=default_database HTTP/1.1" 500
[33mWARNING[0m:  [13-07-2024 08:28:30] chroma_server_nofile is set to 65535, but this is less than current soft limit of 1048575. chroma_server_nofile will not be set.
[33mWARNING[0m:  [13-07-2024 08:29:26] chroma_server_nofile is set to 65535, but this is less than current soft limit of 1048575. chroma_server_nofile will not be set.
[33mWARNING[0m:  [13-07-2024 08:29:46] chroma_server_nofile is set to 65535, but this is less than current soft limit of 1048575. chroma_server_nofile will not be set.
